<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Audio network - physical layer example</title>
        <link rel="stylesheet" type="text/css" href="physical-layer.css">
        <meta name="viewport" content="width=device-width,initial-scale=1">
    </head>
    <body onLoad="onLoad()">

        <div class="container">

            <h1>Audio network - physical layer example</h1>
            <div class="clearfix margin-bottom">
                <div class="row margin-bottom">
                    <div class="col col-sx-12">
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                            incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                            exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                        </p>
                        <p>
                            If you don't want to dig into AudioNetwork internals you can use following buttons
                            to setup some common configuration:

                            <br/><br/>

                            <button
                                class="btn btn-default"
                                onClick="quickConfigure(1, 2, 2, 1)"
                                >
                                1 channel (PSK-2, baud-2, OFDM-1) - 2 bit/s
                            </button>
                            <br/>
                            <button
                                class="btn btn-default"
                                onClick="quickConfigure(1, 4, 2, 1)"
                                >
                                1 channel (PSK-4, baud-2, OFDM-1) - 4 bit/s
                            </button>
                            <br/>
                            <button
                                class="btn btn-default"
                                onClick="quickConfigure(1, 16, 2, 1)"
                                >
                                1 channel (PSK-16, baud-2, OFDM-1) - 8 bit/s
                            </button>
                            <br/>
                            <button
                                class="btn btn-default"
                                onClick="quickConfigure(1, 2, 10, 8)"
                                >
                                1 channel (PSK-2, baud-10, OFDM-8) - 80 bit/s
                            </button>
                            <br/>
                            <button
                                class="btn btn-default"
                                onClick="quickConfigure(1, 8, 5, 8)"
                                >
                                1 channel (PSK-8, baud-5, OFDM-8) - 120 bit/s
                            </button>
                        </p>

                        <p>
                            Two channels (speed information is per channel):

                            <br/><br/>

                            <button
                                class="btn btn-default"
                                onClick="quickConfigure(2, 16, 2, 1)"
                                >
                                2 channels (PSK-16, baud-2, OFDM-1) - 8 bit/s
                            </button>
                            <br/>
                            <button
                                class="btn btn-default"
                                onClick="quickConfigure(2, 8, 5, 8)"
                                >
                                2 channels (PSK-8, baud-5, OFDM-8) - 120 bit/s
                            </button>
                        </p>

                    </div>
                </div>
            </div>

            <h2>Initialize</h2>
            <div class="clearfix margin-bottom">

                <div class="row margin-bottom">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b>
                            View Type
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <button
                            id="view-type-simple"
                            class="btn btn-default"
                            onClick="viewType('simple')"
                            >
                            Simple
                        </button>
                        <button
                            id="view-type-medium"
                            class="btn btn-default"
                            onClick="viewType('medium')"
                            >
                            Medium
                        </button>
                        <button
                            id="view-type-complex"
                            class="btn btn-default"
                            onClick="viewType('complex')"
                            >
                            Complex
                        </button>
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-medium view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="rx-dft-time-span">
                            DFT time span [ms]
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input
                            type="number"
                            id="rx-dft-time-span"
                            value="250"
                            />
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="rx-notification-per-second">
                            Rx notifications per second
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input
                            type="text"
                            id="rx-notification-per-second"
                            value="25"
                            />
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="rx-spectrum-visible" class="label-for-checkbox">
                            Rx spectrum
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input
                            type="checkbox"
                            checked="checked"
                            id="rx-spectrum-visible"
                            value="1"
                            />
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="rx-constellation-diagram-visible" class="label-for-checkbox">
                            Constellation diagram
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input
                            type="checkbox"
                            checked="checked"
                            id="rx-constellation-diagram-visible"
                            value="1"
                            />
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="rx-enabled" class="label-for-checkbox">
                            RX enabled
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input
                            type="checkbox"
                            checked="checked"
                            id="rx-enabled"
                            onChange="enabledChanged('rx')"
                            value="1"
                            />
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="rx-channel-config">
                            RX channel config
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input
                            type="text"
                            id="rx-channel-config"
                            value="1070-1-64"
                            />
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="tx-enabled" class="label-for-checkbox">
                            TX enabled
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input
                            type="checkbox"
                            checked="checked"
                            id="tx-enabled"
                            onChange="enabledChanged('tx')"
                            value="1"
                            />
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="tx-channel-config">
                            TX channel config
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input
                            type="text"
                            id="tx-channel-config"
                            value="1070-1-64"
                            />
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        &nbsp;
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <button class="btn btn-default" onClick="collectSettingsAndInit()">Reinitialize</button>
                        <button class="btn btn-default" onClick="destroy()">Destroy</button>
                    </div>
                </div>

            </div>

            <h2>General info/settings</h2>
            <div class="clearfix margin-bottom">

                <div class="row margin-bottom">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b class="label">
                            Sample rate [Hz]
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <span id="sample-rate"></span>
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-medium view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="symbol-duration">
                            Symbol duration [ms]
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input
                            type="number"
                            id="symbol-duration"
                            value="250"
                            onChange="symbolDurationChange()"
                        />
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-medium view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="guard-interval">
                            Guard interval [ms]
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input
                            type="number"
                            id="guard-interval"
                            value="250"
                            onChange="guardIntervalChange()"
                        />
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-medium view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="interpacket-gap">
                            Interpacket gap [ms]
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input type="number" id="interpacket-gap" value="500" />
                    </div>
                </div>


                <div class="row margin-bottom view-type view-type-medium view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="sync-preamble" class="label-for-checkbox">
                            Add SyncPreamble to each packet
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input
                            type="checkbox"
                            checked="checked"
                            id="sync-preamble"
                            value="1"
                            onChange="syncPreambleChange()"
                            />
                    </div>
                </div>

            </div>

            <h2>Receive</h2>
            <div class="clearfix margin-bottom">

                <div class="row margin-bottom view-type view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b class="label">
                            Rx buffer size
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <span id="rx-buffer-size"></span>
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b class="label">
                            Source
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <button
                            id="rx-input-mic"
                            class="btn btn-default"
                            onClick="rxInput('mic')"
                            >
                            Microphone
                        </button>
                        <button
                            id="rx-input-tx"
                            class="btn btn-default"
                            onClick="rxInput('tx')"
                            >
                            Tx
                        </button>
                        <button
                            id="rx-input-rec"
                            class="btn btn-default"
                            onClick="rxInput('rec')"
                            >
                            Recorded audio
                        </button>
                    </div>
                </div>

                <div
                    id="rx-conditional-css-class-spectrum"
                    class=""
                    class-without-spectrum="hidden"
                    class-with-spectrum="row margin-bottom"
                    >
                    <div class="col col-xs-12">
                        <div id="rx-spectrum"></div>
                    </div>
                </div>

                <div class="row margin-bottom" id="rx-channel-container">
                </div>

            </div>

            <h2>Transmit</h2>
            <div class="clearfix margin-bottom">

                <div class="row margin-bottom view-type view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b class="label">
                            Tx buffer size
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <span id="tx-buffer-size"></span>
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="recorded-audio-url">
                            Recorded audio url
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input type="text" id="recorded-audio-url" value="http://localhost:63342/ucEmu/an.wav" />
                        <button class="btn btn-default" onClick="loadRecordedAudio()">Load</button>
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b class="label">
                            Output [tx]
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <button
                            id="tx-output-tx-enable"
                            class="btn btn-default"
                            onClick="output('tx', true)"
                            >
                            Enable
                        </button>
                        <button
                            id="tx-output-tx-disable"
                            class="btn btn-default"
                            onClick="output('tx', false)"
                            >
                            Disable
                        </button>
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b class="label">
                            Output [microphone]
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <button
                            id="tx-output-mic-enable"
                            class="btn btn-default"
                            onClick="output('mic', true)"
                            >
                            Enable
                        </button>
                        <button
                            id="tx-output-mic-disable"
                            class="btn btn-default"
                            onClick="output('mic', false)"
                            >
                            Disable
                        </button>
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b class="label">
                            Output [recorded audio]
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <button
                            id="tx-output-rec-enable"
                            class="btn btn-default"
                            onClick="output('rec', true)"
                            >
                            Enable
                        </button>
                        <button
                            id="tx-output-rec-disable"
                            class="btn btn-default"
                            onClick="output('rec', false)"
                            >
                            Disable
                        </button>
                    </div>
                </div>

                <div class="row margin-bottom" id="tx-channel-container">
                </div>

            </div>

        </div>

        <footer>
            <div class="row">
                <div class="col col-xs-12">
                    <div class="copyright">Robert Rypula 2016</div>
                </div>
            </div>
        </footer>

        <!-- audio network BEGIN -->
        <script src="../../src/common/math-util/math-util.service.js"></script>
        <script src="../../src/common/audio-util/audio-util.service.js"></script>
        <script src="../../src/common/queue/queue.factory.js"></script>
        <script src="../../src/common/queue/queue-builder.service.js"></script>
        <script src="../../src/physial-layer/analyser-chart/analyser-chart.factory.js"></script>
        <script src="../../src/physial-layer/audio/audio.service.js"></script>
        <script src="../../src/physial-layer/constellation-diagram/constellation-diagram.factory.js"></script>
        <script src="../../src/physial-layer/power-chart/power-chart.factory.js"></script>
        <script src="../../src/physial-layer/carrier-generate/carrier-generate.factory.js"></script>
        <script src="../../src/physial-layer/channel-receive/channel-receive.factory.js"></script>
        <script src="../../src/physial-layer/carrier-recovery/carrier-recovery.factory.js"></script>
        <script src="../../src/physial-layer/channel-transmit/channel-transmit.factory.js"></script>
        <script src="../../src/physial-layer/channel-transmit-manager/channel-transmit-manager.factory.js"></script>
        <script src="../../src/physial-layer/channel-receive-manager/channel-receive-manager.factory.js"></script>
        <script src="../../src/physial-layer/constellation-diagram/constellation-diagram-builder.service.js"></script>
        <script src="../../src/physial-layer/power-chart/power-chart-builder.service.js"></script>
        <script src="../../src/physial-layer/channel-transmit-manager/channel-transmit-manager-builder.service.js"></script>
        <script src="../../src/physial-layer/channel-receive-manager/channel-receive-manager-builder.service.js"></script>
        <script src="../../src/physial-layer/carrier-recovery/carrier-recovery-builder.service.js"></script>
        <script src="../../src/physial-layer/channel-transmit/channel-transmit-builder.service.js"></script>
        <script src="../../src/physial-layer/channel-receive/channel-receive-builder.service.js"></script>
        <script src="../../src/physial-layer/carrier-generate/carrier-generate-builder.service.js"></script>
        <script src="../../src/physial-layer/analyser-chart/analyser-chart-builder.service.js"></script>
        <script src="../../src/physial-layer/rx-handler/rx-handler.factory.js"></script>
        <script src="../../src/physial-layer/rx-handler/rx-handler-builder.service.js"></script>
        <script src="../../src/physial-layer/rx-state-machine/rx-state-machine.factory.js"></script>
        <script src="../../src/physial-layer/rx-state-machine/rx-state-machine-builder.service.js"></script>
        <script src="../../src/physial-layer/rx-state-machine-manager/rx-state-machine-manager.factory.js"></script>
        <script src="../../src/physial-layer/rx-state-machine-manager/rx-state-machine-manager-builder.service.js"></script>
        <script src="../../src/physial-layer/audio-network-physical-layer.factory.js"></script>
        <script src="../../src/physial-layer/audio-network-physical-layer-configuration.service.js"></script>
        <script src="../../src/physial-layer/audio-network-receive-adapter.factory.js"></script>
        <script src="../../src/physial-layer/audio-network-transmit-adapter.factory.js"></script>
        <!-- audio network END -->

        <script id="template-tx-channel" type="text/html">
            <!-- channel begin -->
            <div class="col col-xs-12 tx-channel">

                <div class="row margin-bottom">
                    <div class="col col-xs-12">
                        <h3>TX Channel #[[ channelIndex ]]</h3>
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-5 col-md-3">
                        <b class="label">
                            Speed [bit/s]
                        </b>
                    </div>
                    <div class="col col-xs-7 col-md-6">
                        <span id="tx-speed-[[ channelIndex ]]"></span>
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-medium view-type-complex">
                    <div class="col col-xs-5 col-md-3">
                        <label for="tx-psk-size-[[ channelIndex ]]">
                            PSK symbol size
                        </label>
                    </div>
                    <div class="col col-xs-7 col-md-6">
                        <input
                            type="number"
                            id="tx-psk-size-[[ channelIndex ]]"
                            value="4"
                            onChange="uiRefreshOnPskSizeChange('tx', [[ channelIndex ]])"
                            />
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-5 col-md-3">
                        <b class="label">
                            Synchronize receiver
                        </b>
                    </div>
                    <div class="col col-xs-7 col-md-6">
                        <button class="btn btn-default" onClick="transmitSynchronization([[ channelIndex ]])">
                            SYNC
                        </button>
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-5 col-md-3">
                        <label for="tx-packet-data-[[ channelIndex ]]">
                            Send packet
                        </label>
                    </div>
                    <div class="col col-xs-7 col-md-6">
                        <textarea
                            class="packet-data-textarea"
                            id="tx-packet-data-[[ channelIndex ]]"
                            ></textarea>
                        <button
                            class="btn btn-default"
                            onClick="transmitPacket([[ channelIndex ]])"
                            >
                            Send packet
                        </button>
                    </div>
                </div>

                <div class="row margin-bottom" id="tx-channel-[[ channelIndex ]]-ofdm-container">
                </div>

            </div>
            <!-- channel end -->
        </script>

        <script id="template-tx-channel-ofdm" type="text/html">
            <!-- ofdm begin -->
            <div class="col col-xs-12 col-sm-6 col-lg-4">
                <div class="tx-channel-ofdm">

                    <div class="row margin-bottom">
                        <div class="col col-xs-12">
                            <h4>TX Channel #[[ channelIndex ]] - subcarrier #[[ ofdmIndex ]]</h4>
                        </div>
                    </div>

                    <div class="row margin-bottom view-type view-type-medium view-type-complex">
                        <div class="col col-xs-5">
                            <label for="tx-frequency-input-[[ channelIndex ]]-[[ ofdmIndex ]]">
                                Frequency [Hz]
                            </label>
                        </div>
                        <div class="col col-xs-7">
                            <input type="number" id="tx-frequency-input-[[ channelIndex ]]-[[ ofdmIndex ]]" />
                            <div
                                class="right-info-label"
                                id="tx-frequency-label-[[ channelIndex ]]-[[ ofdmIndex ]]"
                                ></div>
                            <button
                                class="btn btn-default"
                                onClick="frequencyUpdate('tx', [[ channelIndex ]], [[ ofdmIndex ]])"
                                >
                                Update
                            </button>
                        </div>
                    </div>

                    <div class="row margin-bottom view-type view-type-medium view-type-complex">
                        <div class="col col-xs-5">
                            <label for="tx-phase-correction-input-[[ channelIndex ]]-[[ ofdmIndex ]]">
                                Phase correction
                            </label>
                        </div>
                        <div class="col col-xs-7">
                            <input type="number" id="tx-phase-correction-input-[[ channelIndex ]]-[[ ofdmIndex ]]" />
                            <div
                                class="right-info-label"
                                id="tx-phase-correction-label-[[ channelIndex ]]-[[ ofdmIndex ]]"
                                ></div>
                            <button
                                class="btn btn-default"
                                onClick="phaseCorrectionUpdate('tx', [[ channelIndex ]], [[ ofdmIndex ]])"
                                >
                                Update
                            </button>
                        </div>
                    </div>

                    <div class="row margin-bottom view-type view-type-complex">
                        <div class="col col-xs-5">
                            <label for="tx-amplitude-input-[[ channelIndex ]]-[[ ofdmIndex ]]">
                                Amplitude
                            </label>
                        </div>
                        <div class="col col-xs-7">
                            <input
                                type="number"
                                id="tx-amplitude-input-[[ channelIndex ]]-[[ ofdmIndex ]]"
                                value="1"
                                />
                        </div>
                    </div>

                    <div class="row margin-bottom">
                        <div class="col col-xs-5">
                            <b class="label">
                                Send symbol
                            </b>
                        </div>
                        <div class="col col-xs-7">
                            <div class="tx-symbol" id="tx-symbol-[[ channelIndex ]]-[[ ofdmIndex ]]"></div>
                        </div>
                    </div>

                </div>
            </div>
            <!-- ofdm end -->
        </script>

        <script id="template-rx-channel" type="text/html">
            <!-- channel begin -->
            <div class="col col-xs-12 rx-channel">

                <div class="row margin-bottom">
                    <div class="col  col-xs-12">
                        <h3>RX Channel #[[ channelIndex ]]</h3>
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-5 col-md-3">
                        <b class="label">
                            Speed [bit/sec]
                        </b>
                    </div>
                    <div class="col col-xs-7 col-md-6">
                        <span id="rx-speed-[[ channelIndex ]]"></span>
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b class="label">
                            RX sampling - POWER
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <div id="rx-power-chart-[[ channelIndex ]]"></div>
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b class="label">
                            RX sampling - STATE
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <span style="background-color: orange; font-size: 18px; padding: 10px;" id="rx-sampling-state-v2-[[ channelIndex ]]"></span>
                        <span id="rx-sampling-state-[[ channelIndex ]]"></span>
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b class="label">
                            RX sampling - SYMBOL
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <div
                            id="rx-sampling-symbol-[[ channelIndex ]]"
                            style="height: 100px; overflow-y: auto; border: 1px solid #e1e3e5;"
                            >
                        </div>
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-medium view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b class="label">
                            RX sampling - PACKET
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <span id="rx-sampling-packet-[[ channelIndex ]]"></span>
                    </div>
                </div>

                <div class="row margin-bottom">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <b class="label">
                            RX sampling - PACKET HISTORY
                        </b>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <div
                            id="rx-sampling-packet-history-[[ channelIndex ]]"
                            style="height: 100px; overflow-y: auto; border: 1px solid #e1e3e5;"
                            >
                        </div>
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-medium view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="rx-psk-size-[[ channelIndex ]]">
                            PSK symbol size
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input
                            type="number"
                            id="rx-psk-size-[[ channelIndex ]]"
                            onChange="pskSizeChange([[ channelIndex ]])"
                            value="4"
                            />
                    </div>
                </div>

                <div class="row margin-bottom view-type view-type-complex">
                    <div class="col col-xs-6 col-sm-5 col-md-3">
                        <label for="rx-power-threshold-[[ channelIndex ]]">
                            Power threshold [dB]
                        </label>
                    </div>
                    <div class="col col-xs-6 col-sm-7 col-md-6">
                        <input type="number" id="rx-power-threshold-[[ channelIndex ]]" value="-20" />
                    </div>
                </div>

                <div class="row margin-bottom" id="rx-channel-[[ channelIndex ]]-ofdm-container">
                </div>

            </div>
            <!-- channel end -->
        </script>

        <script id="template-rx-channel-ofdm" type="text/html">
            <!-- ofdm begin -->
            <div
                id="rx-conditional-css-class-cont-[[ channelIndex ]]-[[ ofdmIndex ]]"
                class=""
                class-without-constellation-diagram="col col-xs-12 col-sm-6 col-lg-4"
                class-with-constellation-diagram="col col-xs-12 col-md-6"
                >
                <div class="rx-channel-ofdm">

                    <div class="row margin-bottom">
                        <div class="col col-xs-12">
                            <h4>RX Channel #[[ channelIndex ]] - subcarrier #[[ ofdmIndex ]]</h4>
                        </div>
                    </div>

                    <div class="row margin-bottom">

                        <div
                            id="rx-conditional-css-class-cd-[[ channelIndex ]]-[[ ofdmIndex ]]"
                            class=""
                            class-without-constellation-diagram="hidden"
                            class-with-constellation-diagram="col col-xs-12 col-sm-4 col-md-12 col-lg-4"
                            >
                            <div
                                class="rx-constellation-diagram margin-bottom"
                                id="rx-constellation-diagram-[[ channelIndex ]]-[[ ofdmIndex ]]"
                                >
                            </div>
                        </div>

                        <div
                            id="rx-conditional-css-class-widget-[[ channelIndex ]]-[[ ofdmIndex ]]"
                            class=""
                            class-without-constellation-diagram="col col-xs-12"
                            class-with-constellation-diagram="col col-xs-12 col-sm-8 col-md-12 col-lg-8"
                            >

                            <div class="row margin-bottom">
                                <div class="col col-xs-6">
                                    <b class="label">
                                        Symbol received
                                    </b>
                                </div>
                                <div class="col col-xs-6">
                                    <div class="rx-symbol" id="rx-symbol-[[ channelIndex ]]-[[ ofdmIndex ]]"></div>
                                </div>
                            </div>

                            <div class="row margin-bottom view-type view-type-medium view-type-complex">
                                <div class="col col-xs-6">
                                    <b class="label">
                                        Phase [deg, unit]
                                    </b>
                                </div>
                                <div class="col col-xs-6">
                                    <span id="rx-phase-[[ channelIndex ]]-[[ ofdmIndex ]]"></span>
                                </div>
                            </div>

                            <div class="row margin-bottom">
                                <div class="col col-xs-6">
                                    <b class="label">
                                        Power [dB]
                                    </b>
                                </div>
                                <div class="col col-xs-6">
                                    <span id="rx-power-[[ channelIndex ]]-[[ ofdmIndex ]]"></span>
                                </div>
                            </div>

                            <div class="row margin-bottom view-type view-type-medium view-type-complex">
                                <div class="col col-xs-6">
                                    <label for="rx-frequency-input-[[ channelIndex ]]-[[ ofdmIndex ]]">
                                        Frequency [Hz]
                                    </label>
                                </div>
                                <div class="col col-xs-6">
                                    <input type="number" id="rx-frequency-input-[[ channelIndex ]]-[[ ofdmIndex ]]" />
                                    <div
                                        class="right-info-label"
                                        id="rx-frequency-label-[[ channelIndex ]]-[[ ofdmIndex ]]"
                                        ></div>
                                    <button
                                        class="btn btn-default"
                                        onClick="frequencyUpdate('rx', [[ channelIndex ]], [[ ofdmIndex ]])"
                                        >
                                        Update
                                    </button>
                                </div>
                            </div>

                            <div class="row margin-bottom view-type view-type-medium view-type-complex">
                                <div class="col col-xs-6">
                                    <label for="rx-phase-correction-input-[[ channelIndex ]]-[[ ofdmIndex ]]">
                                        Phase correction
                                    </label>
                                </div>
                                <div class="col col-xs-6">
                                    <input type="number" id="rx-phase-correction-input-[[ channelIndex ]]-[[ ofdmIndex ]]" />
                                    <div
                                        class="right-info-label"
                                        id="rx-phase-correction-label-[[ channelIndex ]]-[[ ofdmIndex ]]"
                                        ></div>
                                    <button
                                        class="btn btn-default"
                                        onClick="phaseCorrectionUpdate('rx', [[ channelIndex ]], [[ ofdmIndex ]])"
                                        >
                                        Update
                                    </button>
                                </div>
                            </div>

                        </div>

                    </div>

                </div>
            </div>
            <!-- ofdm end -->
        </script>

        <script src="physical-layer-template-util.js"></script>
        <script src="physical-layer-receive.js"></script>
        <script src="physical-layer-transmit.js"></script>
        <script src="physical-layer.js"></script>
    </body>
</html>
